{"ast":null,"code":"import _toConsumableArray from\"C:/Users/tusha/OneDrive/Documents/GitHub/Final-Project-MERN/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _regeneratorRuntime from\"C:/Users/tusha/OneDrive/Documents/GitHub/Final-Project-MERN/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/tusha/OneDrive/Documents/GitHub/Final-Project-MERN/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/tusha/OneDrive/Documents/GitHub/Final-Project-MERN/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var api_base='http://localhost:3001';function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),todos=_useState2[0],setTodos=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),popupActive=_useState4[0],setPopupActive=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),newTodo=_useState6[0],setNewTodo=_useState6[1];useEffect(function(){GetTodos();},[]);var GetTodos=function GetTodos(){fetch(api_base+'/todos').then(function(res){return res.json();}).then(function(data){return setTodos(data);}).catch(function(err){return console.error(\"Error: \",err);});};var completeTodo=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(id){var data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(api_base+'/todo/complete/'+id).then(function(res){return res.json();});case 2:data=_context.sent;setTodos(function(todos){return todos.map(function(todo){if(todo._id===data._id){todo.complete=data.complete;}return todo;});});case 4:case\"end\":return _context.stop();}}},_callee);}));return function completeTodo(_x){return _ref.apply(this,arguments);};}();var addTodo=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(api_base+\"/todo/new\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({text:newTodo})}).then(function(res){return res.json();});case 2:data=_context2.sent;setTodos([].concat(_toConsumableArray(todos),[data]));setPopupActive(false);setNewTodo(\"\");case 6:case\"end\":return _context2.stop();}}},_callee2);}));return function addTodo(){return _ref2.apply(this,arguments);};}();var deleteTodo=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(id){var data;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return fetch(api_base+'/todo/delete/'+id,{method:\"DELETE\"}).then(function(res){return res.json();});case 2:data=_context3.sent;setTodos(function(todos){return todos.filter(function(todo){return todo._id!==data.result._id;});});case 4:case\"end\":return _context3.stop();}}},_callee3);}));return function deleteTodo(_x2){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Welcome, Tusshar\"}),/*#__PURE__*/_jsx(\"h4\",{children:\"Your tasks\"}),/*#__PURE__*/_jsx(\"div\",{className:\"todos\",children:todos.length>0?todos.map(function(todo){return/*#__PURE__*/_jsxs(\"div\",{className:\"todo\"+(todo.complete?\" is-complete\":\"\"),onClick:function onClick(){return completeTodo(todo._id);},children:[/*#__PURE__*/_jsx(\"div\",{className:\"checkbox\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text\",children:todo.text}),/*#__PURE__*/_jsx(\"div\",{className:\"delete-todo\",onClick:function onClick(){return deleteTodo(todo._id);},children:\"x\"})]},todo._id);}):/*#__PURE__*/_jsx(\"p\",{children:\"You currently have no tasks\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"addPopup\",onClick:function onClick(){return setPopupActive(true);},children:\"+\"}),popupActive?/*#__PURE__*/_jsxs(\"div\",{className:\"popup\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"closePopup\",onClick:function onClick(){return setPopupActive(false);},children:\"X\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Add Task\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"add-todo-input\",onChange:function onChange(e){return setNewTodo(e.target.value);},value:newTodo}),/*#__PURE__*/_jsx(\"div\",{className:\"button\",onClick:addTodo,children:\"Create Task\"})]})]}):'']});}export default App;","map":{"version":3,"sources":["C:/Users/tusha/OneDrive/Documents/GitHub/Final-Project-MERN/client/src/App.js"],"names":["useEffect","useState","api_base","App","todos","setTodos","popupActive","setPopupActive","newTodo","setNewTodo","GetTodos","fetch","then","res","json","data","catch","err","console","error","completeTodo","id","map","todo","_id","complete","addTodo","method","headers","body","JSON","stringify","text","deleteTodo","filter","result","length","e","target","value"],"mappings":"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","sourcesContent":["import { useEffect, useState } from 'react';\nconst api_base = 'http://localhost:3001';\n\nfunction App() {\n\tconst [todos, setTodos] = useState([]);\n\tconst [popupActive, setPopupActive] = useState(false);\n\tconst [newTodo, setNewTodo] = useState(\"\");\n\n\tuseEffect(() => {\n\t\tGetTodos();\n\t}, []);\n\n\tconst GetTodos = () => {\n\t\tfetch(api_base + '/todos')\n\t\t\t.then(res => res.json())\n\t\t\t.then(data => setTodos(data))\n\t\t\t.catch((err) => console.error(\"Error: \", err));\n\t}\n\n\tconst completeTodo = async id => {\n\t\tconst data = await fetch(api_base + '/todo/complete/' + id).then(res => res.json());\n\n\t\tsetTodos(todos => todos.map(todo => {\n\t\t\tif (todo._id === data._id) {\n\t\t\t\ttodo.complete = data.complete;\n\t\t\t}\n\n\t\t\treturn todo;\n\t\t}));\n\t\t\n\t}\n\n\tconst addTodo = async () => {\n\t\tconst data = await fetch(api_base + \"/todo/new\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\" \n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\ttext: newTodo\n\t\t\t})\n\t\t}).then(res => res.json());\n\n\t\tsetTodos([...todos, data]);\n\n\t\tsetPopupActive(false);\n\t\tsetNewTodo(\"\");\n\t}\n\n\tconst deleteTodo = async id => {\n\t\tconst data = await fetch(api_base + '/todo/delete/' + id, { method: \"DELETE\" }).then(res => res.json());\n\n\t\tsetTodos(todos => todos.filter(todo => todo._id !== data.result._id));\n\t}\n\n\treturn (\n\t\t<div className=\"App\">\n\t\t\t<h1>Welcome, Tusshar</h1>\n\t\t\t<h4>Your tasks</h4>\n\n\t\t\t<div className=\"todos\">\n\t\t\t\t{todos.length > 0 ? todos.map(todo => (\n\t\t\t\t\t<div className={\n\t\t\t\t\t\t\"todo\" + (todo.complete ? \" is-complete\" : \"\")\n\t\t\t\t\t} key={todo._id} onClick={() => completeTodo(todo._id)}>\n\t\t\t\t\t\t<div className=\"checkbox\"></div>\n\n\t\t\t\t\t\t<div className=\"text\">{todo.text}</div>\n\n\t\t\t\t\t\t<div className=\"delete-todo\" onClick={() => deleteTodo(todo._id)}>x</div>\n\t\t\t\t\t</div>\n\t\t\t\t)) : (\n\t\t\t\t\t<p>You currently have no tasks</p>\n\t\t\t\t)}\n\t\t\t</div>\n\n\t\t\t<div className=\"addPopup\" onClick={() => setPopupActive(true)}>+</div>\n\n\t\t\t{popupActive ? (\n\t\t\t\t<div className=\"popup\">\n\t\t\t\t\t<div className=\"closePopup\" onClick={() => setPopupActive(false)}>X</div>\n\t\t\t\t\t<div className=\"content\">\n\t\t\t\t\t\t<h3>Add Task</h3>\n\t\t\t\t\t\t<input type=\"text\" className=\"add-todo-input\" onChange={e => setNewTodo(e.target.value)} value={newTodo} />\n\t\t\t\t\t\t<div className=\"button\" onClick={addTodo}>Create Task</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t) : ''}\n\t\t</div>\n\t);\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}